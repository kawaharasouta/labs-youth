
デバイスドライバはどのようにして実現されるか
============================================

カーネルはデバイスを抽象化してユーザから使いやすくするという役割も持っています．
しかし，世の中に存在する全てのデバイスの操作に関する情報を持つことは極めて困難です．
そのため，多くのデバイスの操作に関する情報はビルドされ起動した後にカーネルモジュールという形で
必要なデバイスに関する情報のみがロードされます．
デバイスドライバはこのようにカーネルモジュールとして実現されることが多いです．
今回対象とするNICは普通PCIバスに接続されます．つまり，PCIデバイスドライバとしても実現されなければなりません．
さらに，NICはネートワークにまつわる重要なデバイスであるため，カーネル内でも特別な「ネットワークドライバ」として実現される必要があります．
最後に，(これがデバイスドライバの本質ですが，デバイスはデバイス固有のレジスタ操作や操作手順を行う必要があるため，
デバイスの仕様に沿った実装がされる必要があります．
本ドキュメントは，これらについてほとんど一切の情報がなかった筆者(@khwarizmi6514)がカーネルモジュールのhelloworldから初めて必要機能最低限のネットワークデバイスドライバを独自実装するまでに学んだことの記録です．
